<INCLUDE_TYPOSCRIPT: source="FILE:./v8/setup.txt">

[compatVersion = 8.7.0]
[else]
# Override and use Smarty to render those elements
tt_content {
	menu_abstract >
	menu_categorized_content >
	menu_categorized_pages >
	menu_pages >
	menu_subpages >
	menu_section >
	menu_section_pages >
	menu_recently_updated >
	menu_related_pages >
	menu_sitemap >
	menu_sitemap_pages >

	menu >
	menu =< plugin.tx_vierwdsmarty
	menu {
		settings.template = Content/Menu.tpl
		dataProcessing {
			10 = TYPO3\CMS\Frontend\DataProcessing\SplitProcessor
			10 {
				if.isTrue.field = pages
				fieldName = pages
				delimiter = ,
				removeEmptyEntries = 1
				filterIntegers = 1
				filterUnique = 1
				as = pageUids
			}
			20 < .10
			20 {
				if.isTrue.field = selected_categories
				fieldName = selected_categories
				as = categoryUids
			}
		}
		stdWrap {
			# Setup the edit icon for content element "menu"
			editIcons = tt_content: header [header_layout], menu_type, pages
			editIcons {
				iconTitle.data = LLL:EXT:fluid_styled_content/Resources/Private/Language/FrontendEditing.xlf:editIcon.menu
			}
		}
	}
}
[global]
